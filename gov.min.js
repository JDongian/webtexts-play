function isComplete(e){if(0!=e.length)return!1;for(var n=0,t=e.length;t>n;n++)if("undefined"==typeof e[n])return!1;return!0}function trim(e){return e.replace(/^\s\s*/,"").replace(/\s\s*$/,"")}function checkResult(){return 0==$(".incorrect").length}function getQuestionByIndex(e){return $("ul.questionset li:nth-child("+e+") ul")}function getQuestionOptions(e){return texts=[],getQuestionByIndex(e).children().slice(0,-1).each(function(e){texts.push(trim($(this).children().last().html()))}),texts}function chooseAnswer(e){e.children().last().click(),e.children().first().trigger("click")}function chooseAnswerByLabelText(e,n){var t;return getQuestionByIndex(e).children().slice(0,-1).each(function(){trim($(this).children().last().html())==n&&(chooseAnswer($(this)),t=$(this))}),t}function reset(){$("div.clear-answers > form > a.submit").trigger("click")}function chooseVerifyReset(e,n,t){console.log("STATUS: CHOOSING ANSWER ("+n.slice(0,16)+"...)"),chooseAnswerByLabelText(e,n),setTimeout(function(){var e=checkResult();reset(),console.log("STATUS: RESETTING"),setTimeout(function(){t(e)},TIMEOUT)},TIMEOUT)}function tryOptions(e,n,t,i){text=t[n],chooseVerifyReset(e,text,function(s){s?i(text):(console.log("STATUS: RETRYING"),n<t.length&&tryOptions(e,n+1,t,i))})}function determineAnswer(e,n,t){texts=getQuestionOptions(e),tryOptions(e,0,texts,function(i){console.log("STATUS: SAVING ANSWER"),n[e-1]=i,t(n,e)})}function answeringChain(e,n){return function(t,i){i++,n>i?(console.log("STATUS: NEXT QUESTION ("+i+")"),determineAnswer(i,t,answeringChain(e,n))):(console.log("STATUS: LAST QUESTION ("+i+")"),setTimeout(determineAnswer(i,t,e),TIMEOUT))}}function determineAnswers(e){answers=[];var n=$(".questionset ul").length;determineAnswer(1,answers,answeringChain(e,n))}function chooseAnswers(e){console.log("STATUS: SENDING ANSWERS"),e.forEach(function(e,n){chooseAnswerByLabelText(n+1,e)})}function next(){console.log("STATUS: NEXT PAGE"),$("div.next a span").click()}function finishCurrent(e){$(".toggle-study-questions").focus(),$(".toggle-study-questions").trigger("click"),determineAnswers(function(n){chooseAnswers(n),setTimeout(e(),TIMEOUT)})}function finishAll(){finishCurrent(function(){next(),setTimeout(function(){finishAll()},LONG_TIMEOUT)})}var TIMEOUT=800,LONG_TIMEOUT=3e3;finishCurrent(next);
